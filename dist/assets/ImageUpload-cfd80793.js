import{r as y,s as E,A,o as l,c as o,d as i,x as u,F as U,J as $,a as v,i as B,t as F}from"./index-1ab4de76.js";const O="/assets/placeholder4-302917dd.png";const P={class:"flex align-items-center justify-content-center flex-column"},S=["multiple"],b={key:0,class:"image-container"},C=["src"],N={key:1},q=["src"],D=["onClick"],R={key:0,class:"image-container"},z=["src"],L=i("i",{class:"pi pi-upload icon-left"},null,-1),T=3,h=2*1024*1024,M={__name:"ImageUpload",props:{externalImages:{type:[Array,String],default:()=>[]},multiple:{type:Boolean,default:!1}},emits:["fileSelected"],setup(n,{emit:_}){const g=n,p=_,f=y(null),a=y([]),d=O,m=E(),I=()=>{f.value.click()},x=t=>{const r=Array.from(t.target.files);if(g.multiple){if(a.value.length+r.length>T){m.add({severity:"error",summary:"Erro",detail:"Você pode carregar no máximo 3 imagens.",life:3e3});return}r.forEach(e=>{if(e.type!=="image/png"){m.add({severity:"error",summary:"Erro",detail:`O arquivo ${e.name} não é um PNG.`,life:3e3});return}if(e.size<=h){const s=new FileReader;s.onload=c=>{a.value.push(c.target.result),p("fileSelected",e)},s.readAsDataURL(e)}else m.add({severity:"error",summary:"Erro",detail:`O arquivo ${e.name} é muito grande. O tamanho máximo permitido é 2MB.`,life:3e3})})}else{const e=r[0];if(e){if(e.type!=="image/png"){m.add({severity:"error",summary:"Erro",detail:`O arquivo ${e.name} não é um PNG.`,life:3e3});return}if(e.size<=h){const s=new FileReader;s.onload=c=>{a.value=[c.target.result],p("fileSelected",e)},s.readAsDataURL(e)}else m.add({severity:"error",summary:"Erro",detail:`O arquivo ${e.name} é muito grande. O tamanho máximo permitido é 2MB.`,life:3e3})}}},k=t=>{a.value.splice(t,1)};return A(()=>g.externalImages,t=>{Array.isArray(t)?a.value=t.map(r=>typeof r=="string"?r:`data:${r.mimeType};base64,${r.image}`):typeof t=="string"&&(a.value=[t])},{immediate:!0}),(t,r)=>(l(),o("div",P,[i("input",{type:"file",ref_key:"fileInput",ref:f,onChange:x,style:{display:"none"},multiple:n.multiple,accept:"image/png"},null,40,S),!n.multiple&&!a.value.length?(l(),o("div",b,[i("img",{src:n.externalImages||u(d),alt:"Uploaded or Placeholder Image",class:"uploaded-image"},null,8,C)])):(l(),o("div",N,[(l(!0),o(U,null,$(a.value,(e,s)=>(l(),o("div",{key:s,class:"image-container"},[i("img",{src:e||u(d),alt:"Uploaded or Placeholder Image",class:"uploaded-image"},null,8,q),e?(l(),o("button",{key:0,class:"remove-button",onClick:c=>k(s)},"×",8,D)):v("",!0)]))),128)),a.value.length===0?(l(),o("div",R,[i("img",{src:u(d),alt:"Placeholder Image",class:"uploaded-image"},null,8,z)])):v("",!0)])),i("button",{class:"button",onClick:I},[L,B(" Enviar "+F(n.multiple?"Imagens":"uma Imagem"),1)])]))}};export{M as _,O as i};

import{_ as k,o as i,c,a as S,p as L,b as C,d as e,r as n,u as j,e as $,f as B,g as f,h as l,w as m,F as q,i as g,j as w,v as y,t as N,k as v,l as P}from"./index-7529c793.js";const F="/assets/LogoLabSF-2b4ad871.png";const U=o=>(L("data-v-bd38668f"),o=o(),C(),o),A={key:0,class:"loading-modal"},G=U(()=>e("div",{class:"loading-container"},[e("div",{class:"spinner"}),e("p",null,"Carregando... Aguarde")],-1)),H=[G],O={__name:"LoadingModal",props:{isLoading:{type:Boolean,required:!0}},setup(o){return(r,b)=>o.isLoading?(i(),c("div",A,H)):S("",!0)}},T=k(O,[["__scopeId","data-v-bd38668f"]]);const s=o=>(L("data-v-3339974f"),o=o(),C(),o),R={class:"flex align-items-center"},W=s(()=>e("svg",{class:"align-items-center justify-content-center",xmlns:"http://www.w3.org/2000/svg",width:"6em",height:"6em",viewBox:"2 2 22 22"},[e("path",{fill:"#494c57",d:"m11.614 13.98l4.908 4.922c.39.391.99.36 1.286-.106a8.99 8.99 0 0 0 1.393-4.815a9.005 9.005 0 0 0-1.972-5.631zM9 14.396V7.041a7.008 7.008 0 0 0-6 6.939C3 17.856 6.134 21 10 21a6.946 6.946 0 0 0 4.186-1.403zm7.331-8.183c.39-.391.365-.999-.089-1.313a10.925 10.925 0 0 0-4.251-1.765c-.544-.1-.991.312-.991.865v7.56z"})],-1)),J={class:"block justify-content-center"},K=s(()=>e("h1",{class:"align-items-center justify-content-center text-800 font-italic m-0"},[g("DM"),e("span",{class:"font-bold text-blue-600 mt-0 mb-0"},"WEB")],-1)),Q=s(()=>e("div",{class:"logolab"},[e("img",{id:"img",src:F,alt:"Logo da empresa"})],-1)),X={class:"login"},Y={id:"form-login",method:"post",autocomplete:"off"},Z={key:0},ee=s(()=>e("h2",{class:"text-blue-600 text-5xl"},"Vamos começar!",-1)),te=s(()=>e("h4",null,"Para acessar o sistema, preencha os campos abaixo.",-1)),se={class:"form mb-3"},oe=s(()=>e("label",{class:"mb-2 inline font-semibold inline-block texto-cinza-500"},"Email:",-1)),ae={class:"form mb-3"},ne=s(()=>e("label",{class:"mb-2 inline font-semibold inline-block texto-cinza-500"},"Senha:",-1)),le={key:0,class:"div-error"},ie={class:"p-error"},ce={class:"mt-3 text-center"},re={key:1},de=s(()=>e("h2",{class:"text-blue-600 text-5xl"},"Esqueceu sua senha?",-1)),ue=s(()=>e("h4",null,"Insira seu email para recuperar seu acesso:",-1)),me=s(()=>e("div",{class:"form mb-3"},[e("label",{class:"mb-2 inline font-semibold inline-block texto-cinza-500"},"Email:"),e("input",{type:"email",name:"reset-email",id:"reset-email",class:"formstyle",placeholder:"Digite o seu email",autocomplete:"on"})],-1)),_e={class:"mt-3 text-center"},pe=s(()=>e("div",null,[e("p",{class:"text-color-secondary text-sm"},[g("Visite nosso site "),e("a",{href:"https://www.lab220.com.br/",class:"text-blue-500 font-semibold hover:text-orange-500"},"lab220.com.br")])],-1)),he={__name:"Login",setup(o){const r=n(!1),b=j(),_=n(""),p=n(""),d=n(null),u=n(!1),V=$(),z=B();function D(){alert("O link de recuperação foi enviado com sucesso! Verifique a caixa de entrada seu email. Contate o nosso suporte caso continue enfrentando problemas para logar: suporte@lab220.com.br"),u.value=!1}const E=async()=>{var h;r.value=!0,d.value="";try{const t=await P.post("/login",{email:_.value,senha:p.value});t.status===200&&(V.login({token:t.data.token,usuario:t.data.Usuario,menu:t.data.items}),z.startCountdown(60*60*1e3),b.push({name:"Dashboard"}))}catch(t){d.value=((h=t.response)==null?void 0:h.data)||"Erro desconhecido"}finally{r.value=!1}};return(h,t)=>{const I=f("H4"),x=f("SplitterPanel"),M=f("Splitter");return i(),c(q,null,[l(T,{isLoading:r.value},null,8,["isLoading"]),l(M,{class:"flex justify-content-center align-items-center min-h-screen",style:{height:"300px"}},{default:m(()=>[l(x,{class:"colunaesquerda flex-column h-screen justify-content-center align-items-center text-left m-0",size:65},{default:m(()=>[e("div",R,[W,e("div",J,[K,l(I,{class:"text-lg m-0"},{default:m(()=>[g("Sistema de Gerenciamento de Dispenser Machines")]),_:1})])])]),_:1}),l(x,{class:"flex colunadireita flex-column h-screen justify-content-between bg-white",size:35,minSize:30},{default:m(()=>[Q,e("div",null,[e("div",X,[e("form",Y,[u.value?(i(),c("div",re,[de,ue,me,e("button",{onClick:D,class:"login-button text-white bg-blue-600 hover:bg-orange-500 w-full cursor-pointer py-3 px-3 border-round-sm"},"Enviar link de recuperação"),e("h6",_e,[e("a",{href:"#",onClick:t[3]||(t[3]=v(a=>u.value=!1,["prevent"])),class:"text-blue-500 font-semibold hover:text-orange-500"},"Voltar para login")])])):(i(),c("div",Z,[ee,te,e("div",se,[oe,w(e("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=a=>_.value=a),name:"email",id:"email",class:"formstyle",placeholder:"Digite o seu email",autocomplete:"on"},null,512),[[y,_.value]])]),e("div",ae,[ne,w(e("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=a=>p.value=a),name:"senha",id:"senha",class:"formstyle",placeholder:"Digite a sua senha",autocomplete:"on"},null,512),[[y,p.value]])]),d.value?(i(),c("div",le,[e("small",ie,N(d.value),1)])):S("",!0),e("button",{id:"btn_button",class:"login-button text-white bg-blue-600 hover:bg-orange-500 w-full cursor-pointer py-3 px-3 border-round-sm",onClick:v(E,["prevent"])},"LOGIN"),e("h6",ce,[e("a",{href:"#",onClick:t[2]||(t[2]=v(a=>u.value=!0,["prevent"])),class:"text-blue-500 font-semibold hover:text-orange-500"},"Esqueceu sua senha?")])]))])])]),pe]),_:1})]),_:1})],64)}}},ve=k(he,[["__scopeId","data-v-3339974f"]]);export{ve as default};

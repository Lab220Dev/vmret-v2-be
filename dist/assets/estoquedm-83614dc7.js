import{r as s,e as w,s as D,g as i,o as _,c as q,d as u,h as o,w as C,z as M,a as b,l as h}from"./index-7226cd4f.js";import{L as g}from"./LoadingSpinner-6fe77d13.js";/* empty css                                                       */const E={class:"card vh"},S=u("h5",{class:"my-4 text-2xl"},"Estoques da DM",-1),k={class:"my-2"},V=u("label",{for:"dm"},"DM:",-1),$={__name:"estoquedm",setup(x){s([]);const t=s(!1),r=s({dms:""}),c=s([]),m=s([]),n=w(),v=async()=>{t.value=!0;const l={id_cliente:n.userIdCliente};try{const e=await h.post("/Estoque/listar",l,{headers:{Authorization:`Bearer ${n.token}`}});m.value=e.data.map(({ID_DM:d,Numero:a})=>({label:`${a}`,value:d}))}catch(e){console.error("Erro ao listar DMS:",e)}finally{t.value=!1}},f=async()=>{t.value=!0;const l={id_cliente:n.userIdCliente,...r.value};try{const e=await h.post("/Estoque/relatorio",l,{headers:{Authorization:`Bearer ${n.token}`}});c.value=e.data}catch(e){console.error("Erro ao gerata o Relatorio de Estoque das DMS:",e)}finally{t.value=!1}};return D(()=>{v()}),(l,e)=>{const d=i("Dropdown"),a=i("Column"),y=i("DataTable");return _(),q("div",E,[S,u("div",k,[V,o(d,{id:"dm",modelValue:r.value.dms,"onUpdate:modelValue":e[0]||(e[0]=p=>r.value.dms=p),options:m.value,optionLabel:"label",optionValue:"value",placeholder:"Todos",class:"mb-2",onChange:e[1]||(e[1]=p=>f())},null,8,["modelValue","options"])]),o(y,{value:c.value,stripedRows:"",showGridlines:"",paginator:"",rows:10,dataKey:"SKU",rowsPerPageOptions:[5,10,20,50],tableStyle:{width:"100%"}},{default:C(()=>[o(a,{field:"sku",header:"SKU"}),o(a,{field:"nome",header:"Produto"}),o(a,{field:"Posicao",header:"Posição"}),o(a,{field:"quantidade",header:"Quantidade Atual"}),o(a,{field:"quantidademinima",header:"Quantidade Mínima"}),o(a,{field:"capacidade",header:"Capacidade"})]),_:1},8,["value"]),t.value?(_(),M(g,{key:0})):b("",!0)])}}};export{$ as default};

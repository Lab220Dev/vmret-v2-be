import{m as C,g as c,n as b,o as r,c as n,d as s,j as g,h as t,w as _,i as M,t as S,F as D,e as $,r as u,q as j,s as N,a as h,x as R,l as w}from"./index-ac32e295.js";import{f as U}from"./format-7e97a1d1.js";const A={class:"header",style:{display:"flex"}},K=s("div",{class:"title",style:{display:"flex","align-items":"center"}},[s("h5",{style:{"margin-right":"5px"}},"Últimas retiradas")],-1),P={class:"mt-1 pi pi-info-circle",style:{cursor:"pointer","font-size":"1.2em",color:"gray"}},V={__name:"LastRecalls",props:{products:{type:Array,required:!0}},setup(p){C();const o=p,a=d=>d?U(new Date(d),"dd/MM/yyyy HH:mm"):null;return(d,i)=>{const l=c("Column"),m=c("DataTable"),f=b("tooltip");return r(),n(D,null,[s("div",A,[K,g(s("i",P,null,512),[[f,"Limitado aos últimos 5 itens retirados."]])]),t(m,{value:o.products,rows:5,responsiveLayout:"scroll"},{default:_(()=>[t(l,{field:"id_dm",header:"Máquina",sortable:"",style:{width:"20%"}}),t(l,{field:"ProdutoSKU",header:"SKU",sortable:"",style:{width:"15%"}}),t(l,{field:"ProdutoDescricao",header:"Descrição",sortable:"",style:{width:"30%"}}),t(l,{field:"Dia",header:"Data e Hora",sortable:"",style:{width:"35%"}},{body:_(y=>[M(S(a(y.data.Dia)),1)]),_:1})]),_:1},8,["value"])],64)}}},L={class:"header",style:{display:"flex"}},z=s("div",{class:"title",style:{display:"flex","align-items":"center"}},[s("h5",{style:{"margin-right":"5px"}},"Itens mais retirados")],-1),B={class:"mt-1 pi pi-info-circle",style:{cursor:"pointer","font-size":"1.2em",color:"gray"}},E={__name:"MostRecalled",props:{most:{type:Array,required:!0}},setup(p){C();const o=p;return(a,d)=>{const i=c("Column"),l=c("DataTable"),m=b("tooltip");return r(),n(D,null,[s("div",L,[z,g(s("i",B,null,512),[[m,"Itens mais retirados nos últimos 6 meses."]])]),t(l,{value:o.most,rows:5,responsiveLayout:"scroll"},{default:_(()=>[t(i,{field:"ProdutoNome",header:"Item",sortable:"",style:{width:"40%"}}),t(i,{field:"ProdutoSKU",header:"SKU",sortable:"",style:{width:"30%"}}),t(i,{field:"TotalQuantidade",header:"Quantidade",sortable:"",style:{width:"30%"}})]),_:1},8,["value"])],64)}}},F={class:"grid grid-cols-12"},H=R('<div class="col-12 xl:col-3 lg:col-3 md:col-6 sm:12"><div class="card mb-0"><div class="flex justify-content-between mb-3"><div><span class="block text-500 font-medium mb-3">Orders</span><div class="text-900 font-medium text-xl">152</div></div><div class="flex align-items-center justify-content-center bg-blue-100 border-round" style="width:2.5rem;height:2.5rem;"><i class="pi pi-shopping-cart text-blue-500 text-xl"></i></div></div><span class="text-green-500 font-medium">24 new </span><span class="text-500">since last visit</span></div></div><div class="col-12 xl:col-3 lg:col-3 md:col-6 sm:12"><div class="card mb-0"><div class="flex justify-content-between mb-3"><div><span class="block text-500 font-medium mb-3">Revenue</span><div class="text-900 font-medium text-xl">$2.100</div></div><div class="flex align-items-center justify-content-center bg-orange-100 border-round" style="width:2.5rem;height:2.5rem;"><i class="pi pi-map-marker text-orange-500 text-xl"></i></div></div><span class="text-green-500 font-medium">%52+ </span><span class="text-500">since last week</span></div></div><div class="col-12 xl:col-3 lg:col-3 md:col-6 sm:12"><div class="card"><div class="flex justify-content-between mb-3"><div><span class="block text-500 font-medium mb-3">Customers</span><div class="text-900 font-medium text-xl">28441</div></div><div class="flex align-items-center justify-content-center bg-cyan-100 border-round" style="width:2.5rem;height:2.5rem;"><i class="pi pi-inbox text-cyan-500 text-xl"></i></div></div><span class="text-green-500 font-medium">520 </span><span class="text-500">newly registered</span></div></div><div class="col-12 xl:col-3 lg:col-3 md:col-6 sm:12"><div class="card mb-0"><div class="flex justify-content-between mb-3"><div><span class="block text-500 font-medium mb-3">Comments</span><div class="text-900 font-medium text-xl">152 Unread</div></div><div class="flex align-items-center justify-content-center bg-purple-100 border-round" style="width:2.5rem;height:2.5rem;"><i class="pi pi-comment text-purple-500 text-xl"></i></div></div><span class="text-green-500 font-medium">85 </span><span class="text-500">responded</span></div></div>',4),Q={key:0,class:"col-12 xl:col-6 lg:col-6 md:col-6 sm:12 pb-0 mb-0"},J={class:"card mb-0 dash"},O=s("h5",null,"Keep Alive",-1),G={key:0,class:"card"},W={class:"col-12 xl:col-6 lg:col-6 md:col-6 sm:12"},X={key:0,class:"card mb-0"},Y={class:"header",style:{display:"flex"}},Z=s("div",{class:"title",style:{display:"flex","align-items":"center"}},[s("h5",{style:{"margin-right":"5px"}},"Itens com estoque baixo")],-1),ee={class:"mt-1 pi pi-info-circle",style:{cursor:"pointer","font-size":"1.2em",color:"gray"}},te={key:1,class:"card"},ae={__name:"HomeView",setup(p){const o=$(),a=u(!1),d=()=>{(o.userRole==="Master"||o.userRole==="Operador")&&(a.value=!0)},i=u([]),l=u([]),m=j({labels:["January","February","March","April","May","June","July"],datasets:[{label:"First Dataset",data:[65,59,80,81,56,55,40],fill:!1,backgroundColor:"#2f4860",borderColor:"#2f4860",tension:.4},{label:"Second Dataset",data:[28,48,40,19,86,27,90],fill:!1,backgroundColor:"#00bb7e",borderColor:"#00bb7e",tension:.4}]});u([{label:"Ir ao relatório",icon:"pi pi-chevron-right"}]);const f=u(null),y=async()=>{const v={id_cliente:o.userIdCliente};try{const e=await w.post("/relatorioItems/ultimos",v,{headers:{Authorization:`Bearer ${o.token}`}});i.value=e.data}catch(e){e.response?console.error("Erro de resposta do servidor:",e.response.data):e.request?console.error("Nenhuma resposta recebida:",e.request):console.error("Erro ao configurar a requisição:",e.message)}},k=async()=>{const v={id_cliente:o.userIdCliente};try{const e=await w.post("/relatorioItems/listarMaisRet",v,{headers:{Authorization:`Bearer ${o.token}`}});l.value=e.data}catch(e){e.response?console.error("Erro de resposta do servidor:",e.response.data):e.request?console.error("Nenhuma resposta recebida:",e.request):console.error("Erro ao configurar a requisição:",e.message)}};return N(()=>{d(),a.value&&(y(),k())}),(v,e)=>{const q=c("Chart"),x=c("Column"),T=c("DataTable"),I=b("tooltip");return r(),n("div",F,[H,a.value?(r(),n("div",Q,[s("div",J,[O,t(q,{type:"line",data:m,options:f.value},null,8,["data","options"])]),a.value?(r(),n("div",G,[t(V,{products:i.value},null,8,["products"])])):h("",!0)])):h("",!0),s("div",W,[a.value?(r(),n("div",X,[s("div",Y,[Z,g(s("i",ee,null,512),[[I,""]])]),t(T,{rows:5,responsiveLayout:"scroll"},{default:_(()=>[t(x,{field:"ProdutoNome",header:"Item",sortable:"",style:{width:"40%"}}),t(x,{field:"ProdutoSKU",header:"SKU",sortable:"",style:{width:"30%"}}),t(x,{field:"TotalQuantidade",header:"Quantidade",sortable:"",style:{width:"30%"}})]),_:1})])):h("",!0),a.value?(r(),n("div",te,[t(E,{most:l.value},null,8,["most"])])):h("",!0)])])}}};export{ae as default};

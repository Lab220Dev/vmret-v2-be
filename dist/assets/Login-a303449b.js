import{_ as S,o as d,c as u,a as L,p as C,b as V,d as e,r as c,u as $,e as B,f as N,g as f,h as r,w as m,F as P,i as x,j as g,v as b,t as q,k as _,l as U}from"./index-cbac5dd2.js";const F="/assets/LogoLabSF-2b4ad871.png";const A=o=>(C("data-v-bd38668f"),o=o(),V(),o),G={key:0,class:"loading-modal"},H=A(()=>e("div",{class:"loading-container"},[e("div",{class:"spinner"}),e("p",null,"Carregando... Aguarde")],-1)),T=[H],O={__name:"LoadingModal",props:{isLoading:{type:Boolean,required:!0}},setup(o){return(n,y)=>o.isLoading?(d(),u("div",G,T)):L("",!0)}},R=S(O,[["__scopeId","data-v-bd38668f"]]);const s=o=>(C("data-v-60622277"),o=o(),V(),o),W={class:"flex align-items-center"},J=s(()=>e("svg",{class:"align-items-center justify-content-center",xmlns:"http://www.w3.org/2000/svg",width:"6em",height:"6em",viewBox:"2 2 22 22"},[e("path",{fill:"#494c57",d:"m11.614 13.98l4.908 4.922c.39.391.99.36 1.286-.106a8.99 8.99 0 0 0 1.393-4.815a9.005 9.005 0 0 0-1.972-5.631zM9 14.396V7.041a7.008 7.008 0 0 0-6 6.939C3 17.856 6.134 21 10 21a6.946 6.946 0 0 0 4.186-1.403zm7.331-8.183c.39-.391.365-.999-.089-1.313a10.925 10.925 0 0 0-4.251-1.765c-.544-.1-.991.312-.991.865v7.56z"})],-1)),K={class:"block justify-content-center"},Q=s(()=>e("h1",{class:"align-items-center justify-content-center text-800 font-italic m-0"},[x("DM"),e("span",{class:"font-bold text-blue-600 mt-0 mb-0"},"WEB")],-1)),X=s(()=>e("div",{class:"logolab"},[e("img",{id:"img",src:F,alt:"Logo da empresa"})],-1)),Y={class:"login"},Z={id:"form-login",method:"post",autocomplete:"off"},ee={key:0},te=s(()=>e("h2",{class:"text-blue-600 text-5xl"},"Vamos começar!",-1)),se=s(()=>e("h4",null,"Para acessar o sistema, preencha os campos abaixo.",-1)),oe={class:"form mb-3"},ae=s(()=>e("label",{class:"mb-2 inline font-semibold inline-block texto-cinza-500"},"Email:",-1)),ne={class:"form mb-3"},le=s(()=>e("label",{class:"mb-2 inline font-semibold inline-block texto-cinza-500"},"Senha:",-1)),ie={key:0,class:"div-error"},ce={class:"p-error"},re={class:"mt-3 text-center"},de={key:1},ue=s(()=>e("h2",{class:"text-blue-600 text-5xl"},"Esqueceu sua senha?",-1)),me=s(()=>e("h4",null,"Insira seu email para recuperar seu acesso:",-1)),_e={class:"form mb-3"},pe=s(()=>e("label",{class:"mb-2 inline font-semibold inline-block texto-cinza-500"},"Email:",-1)),he={class:"mt-3 text-center"},ve=s(()=>e("div",null,[e("p",{class:"text-color-secondary text-sm"},[x("Visite nosso site "),e("a",{href:"https://www.lab220.com.br/",class:"text-blue-500 font-semibold hover:text-orange-500"},"lab220.com.br")])],-1)),fe={__name:"Login",setup(o){const n=c(!1),y=$(),p=c(""),w=c(""),h=c(""),l=c(null),v=c(!1),z=B(),E=N(),D=async()=>{var i;n.value=!0,l.value="";try{}catch(t){console.error(t),l.value=((i=t.response)==null?void 0:i.data)||"Erro desconhecido"}finally{n.value=!1}},I=async()=>{var i;n.value=!0,l.value="";try{const t=await U.post("/login",{email:p.value,senha:h.value});t.status===200&&(z.login({token:t.data.token,usuario:t.data.Usuario,menu:t.data.items}),E.startCountdown(60*60*1e3),y.push({name:"Dashboard"}))}catch(t){console.error(t),l.value=((i=t.response)==null?void 0:i.data)||"Erro desconhecido"}finally{n.value=!1}};return(i,t)=>{const M=f("H4"),k=f("SplitterPanel"),j=f("Splitter");return d(),u(P,null,[r(R,{isLoading:n.value},null,8,["isLoading"]),r(j,{class:"flex justify-content-center align-items-center min-h-screen",style:{height:"300px"}},{default:m(()=>[r(k,{class:"colunaesquerda flex-column h-screen justify-content-center align-items-center text-left m-0",size:65},{default:m(()=>[e("div",W,[J,e("div",K,[Q,r(M,{class:"text-lg m-0"},{default:m(()=>[x("Sistema de Gerenciamento de Dispenser Machines")]),_:1})])])]),_:1}),r(k,{class:"flex colunadireita flex-column h-screen justify-content-between bg-white",size:35,minSize:30},{default:m(()=>[X,e("div",null,[e("div",Y,[e("form",Z,[v.value?(d(),u("div",de,[ue,me,e("div",_e,[pe,g(e("input",{type:"email",name:"reset-email",id:"reset-email",class:"formstyle",placeholder:"Digite o seu email",autocomplete:"on","onUpdate:modelValue":t[3]||(t[3]=a=>w.value=a)},null,512),[[b,w.value]])]),e("button",{onClick:_(D,["prevent"]),class:"login-button text-white bg-blue-600 hover:bg-orange-500 w-full cursor-pointer py-3 px-3 border-round-sm"},"Enviar link de recuperação"),e("h6",he,[e("a",{href:"#",onClick:t[4]||(t[4]=_(a=>v.value=!1,["prevent"])),class:"text-blue-500 font-semibold hover:text-orange-500"},"Voltar para login")])])):(d(),u("div",ee,[te,se,e("div",oe,[ae,g(e("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=a=>p.value=a),name:"email",id:"email",class:"formstyle",placeholder:"Digite o seu email",autocomplete:"on"},null,512),[[b,p.value]])]),e("div",ne,[le,g(e("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=a=>h.value=a),name:"senha",id:"senha",class:"formstyle",placeholder:"Digite a sua senha",autocomplete:"on"},null,512),[[b,h.value]])]),l.value?(d(),u("div",ie,[e("small",ce,q(l.value),1)])):L("",!0),e("button",{id:"btn_button",class:"login-button text-white bg-blue-600 hover:bg-orange-500 w-full cursor-pointer py-3 px-3 border-round-sm",onClick:_(I,["prevent"])},"LOGIN"),e("h6",re,[e("a",{href:"#",onClick:t[2]||(t[2]=_(a=>v.value=!0,["prevent"])),class:"text-blue-500 font-semibold hover:text-orange-500"},"Esqueceu sua senha?")])]))])])]),ve]),_:1})]),_:1})],64)}}},be=S(fe,[["__scopeId","data-v-60622277"]]);export{be as default};
